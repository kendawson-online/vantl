<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Deep Linking to Timeline Content</title>
    <!-- load demo specific styles -->
    <link rel="stylesheet" href="assets/css/demo.css">
    <link rel="stylesheet" href="assets/vendor/github.min.css">
  </head>
  <body>


    <div class="wrapper">

      <!-- header block -->
      <header class="demo-page-head">
        <h1>Deep Linking to Timeline Content</h1>
        <p>You can deep link to specific node content in Vanilla Timeline. Just use this link format:</p> 
        <p class="mono">&lt;a href="http://example.com/yourpage.html?<b>timeline=</b><span class="txtwarning">[timeline id]</span>&amp;<b>id=</b><span class="txtwarning">[node id]</span>"&gt;Link Name&lt;/a&gt;</p>
        <p>The <span class="txtwarning">[timeline id]</span> and <span class="txtwarning">[node id]</span> values come from the timeline  you want to link to. For example:</p>
<div class="code-block">
<pre><code class="language-html">&lt;div id="myTimeline" class="timeline"&gt;
  &lt;div class="timeline__wrap"&gt;
    &lt;div class="timeline__items"&gt;  

      &lt;!-- Node 1 --&gt;
      &lt;div id="1" class="timeline__item"&gt;
        &lt;div class="timeline__content"&gt;
          &lt;div class="timeline__date"&gt;10/01/2023&lt;/div&gt;
          &lt;img class="timeline__image" src="assets/img/sample1.jpg" alt="Colored Tiles"&gt;
          &lt;h3 class="timeline__heading"&gt;Colored Tiles&lt;/h3&gt;
          &lt;div class="timeline__summary"&gt;Lorem ipsum dolor sit amet, qui minim labore adipisicing minim sint cillum sint consectetur cupidatat.&lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="timeline__modal-content"&gt;
          &lt;p&gt;Lorem ipsum dolor sit amet, qui minim labore adipisicing minim sint cillum sint consectetur cupidatat.&lt;/p&gt;
          &lt;p&gt;Lorem ipsum dolor sit amet, officia excepteur ex fugiat reprehenderit enim labore culpa sint ad nisi Lorem pariatur mollit ex esse exercitation amet. Nisi anim cupidatat excepteur officia. Reprehenderit nostrud nostrud ipsum Lorem est aliquip amet voluptate voluptate dolor minim nulla est proident. Nostrud officia pariatur ut officia. Sit irure elit esse ea nulla sunt ex occaecat reprehenderit commodo officia dolor Lorem duis laboris cupidatat officia voluptate. Culpa proident adipisicing id nulla nisi laboris ex in Lorem sunt duis officia eiusmod. Aliqua reprehenderit commodo ex non excepteur duis sunt velit enim. Voluptate laboris sint cupidatat ullamco ut ea consectetur et est culpa et culpa duis.&lt;/p&gt;
        &lt;/div&gt;
      &lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
</div> 
        <p>So, in the case of this example, a link to this node on this timeline would look like this:</p>
        <p class="mono">&lt;a href="http://example.com/yourpage.html?<span class="txtwarning">timeline="myTimeline"</span>&amp;<span class="txtwarning">id="1"</span>"&gt;Link Name&lt;/a&gt;</p>
      </header>

      <!-- Sample Links -->
      <section class="demo-section">
        <h2>Sample Links:</h2>
        <p>Here are some links to demo timelines which illustrate the linking format.<br/>(Links will open a new tab or window)</p>
        <ul>
          <li class="dl-list">
            <a href="json/horizontal/index.html?timeline=horizontal&id=5" target="_blank">Pretty Flower</a>
            &mdash; <code class="txtwarning">json/horizontal/index.html?timeline=horizontal&id=5</code>
          </li>
          <li class="dl-list">
            <a href="inline/horizontal/index.html?timeline=horizontal&id=10" target="_blank">Brick Wall</a> 
            &mdash; <code class="txtwarning">inline/horizontal/index.html?timeline=horizontal&id=10</code>
          </li>
          <li class="dl-list">
            <a href="json/vertical/index.html?timeline=vertical&id=4" target="_blank">Ocean Waves</a> 
            &mdash; <code class="txtwarning">json/vertical/index.html?timeline=vertical&id=4</code>
          </li>
          <li class="dl-list">
            <a href="inline/vertical/index.html?timeline=vertical&id=11" target="_blank">Intricate Flower</a> 
            &mdash; <code class="txtwarning">/inline/vertical/index.html?timeline=vertical&id=11</code>
          </li>
        </ul>
      </section>  

      <!-- footer buttons -->
      <footer class="btn-footer">
        <a class="btn secondary" href="index.html">❮ Back to Demos</a>
        <a class="btn success space-left" href="jquery/">Using jQuery ❯</a>
      </footer>
      
    </div>

    <!-- Load highligher.js -->
    <script src="assets/vendor/highlight.min.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function () {
      // highlight blocks of code
      hljs.highlightAll();
      // wrap id="..." groups in <strong>
      document.querySelectorAll('code.language-html').forEach(block => {
        // collect attribute-name span elements (use span.hljs-attr because that's what you saw)
        const attrEls = Array.from(block.querySelectorAll('span.hljs-attr'));

        attrEls.forEach(attrEl => {
          // only target attribute name "id"
          if (attrEl.textContent.trim() !== 'id') return;
          // don't double-wrap if already inside a <strong>
          if (attrEl.closest('strong')) return;

          // collect nodes from attrEl up to and including the next .hljs-string
          const nodesToWrap = [attrEl];
          let node = attrEl.nextSibling;
          let foundString = false;

          while (node) {
            nodesToWrap.push(node);
            if (node.nodeType === 1 && node.classList.contains('hljs-string')) {
              foundString = true;
              break;
            }
            node = node.nextSibling;
          }

          if (!foundString) return; // abort if no string/value found

          // create <strong> and move nodes into it
          const parent = nodesToWrap[0].parentNode;
          const strong = document.createElement('strong');
          strong.className = 'hljs-id-attr';
          parent.insertBefore(strong, nodesToWrap[0]);

          nodesToWrap.forEach(n => strong.appendChild(n));
        });
      });
    });
    </script>

  </body>
</html>
